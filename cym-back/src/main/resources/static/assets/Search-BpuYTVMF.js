import{E as z,r as a,o as C,w as D,k as c,l as I,m as t,z as o,G as _,F as h,H as m,j,B as i,C as T,D as U}from"./index-CHaRzVd8.js";import{H as E}from"./Header-CZu9RGU-.js";/* empty css                                                                  */import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const n=u=>(T("data-v-808e27a5"),u=u(),U(),u),M={class:"container-fluid m-3"},R={class:"m-3 mt-4 text-center"},H={class:"fw-bold fs-3"},V=n(()=>t("p",null,"0 개의 검색 결과가 있습니다.",-1)),$={class:"row justify-content-between"},F=n(()=>t("p",{class:"px-1 fw-bold"},"자동차 산업 정보",-1)),A=n(()=>t("span",{class:"material-symbols-outlined",style:{"font-size":"0.8rem"}},"description",-1)),G={class:"container text-center justify-content-between mb-3"},q={class:"row g-3"},J={class:"col"},K=["onClick"],O=["src"],P=n(()=>t("br",null,null,-1)),Q={class:"news-title ms-1"},W=n(()=>t("br",null,null,-1)),X={class:"ms-1",style:{"font-size":".6rem","font-weight":"normal"}},Y={class:"row justify-content-between"},Z=n(()=>t("p",{class:"px-1 fw-bold"},"화장품 산업 정보",-1)),N=n(()=>t("span",{class:"material-symbols-outlined",style:{"font-size":"0.8rem"}},"description",-1)),tt={class:"container text-start justify-content-between mb-3"},et={class:"row g-3"},st={class:"col"},ot=["onClick"],nt=["src"],lt=n(()=>t("br",null,null,-1)),at={class:"news-title ms-1"},ct=n(()=>t("br",null,null,-1)),it={class:"ms-1",style:{"font-size":".6rem","font-weight":"normal"}},rt=n(()=>t("div",{class:"row justify-content-between"},[t("p",{class:"px-1 fw-bold"},"통합 자료실")],-1)),dt={class:"container drive-container m-3 d-flex"},ut={class:"table table-hover table-bordered"},ht=n(()=>t("thead",{class:"table-head"},[t("tr",null,[t("th",{scope:"col"}),t("th",{scope:"col"},"제목"),t("th",{scope:"col"},"파일명"),t("th",{scope:"col"},"파일 크기"),t("th",{scope:"col"},"업로더 아이디"),t("th",{scope:"col"},"등록자"),t("th",{scope:"col"},"등록일시")])],-1)),_t=["href"],mt=n(()=>t("i",{class:"bi bi-download px-1"},null,-1)),pt={__name:"Search",setup(u){const y=localStorage.getItem("token"),p=z(),r=a(p.params.searchBody),k=a("no title"),B=a(null),x=a("no link"),v=a([]),f=a([]),g=a([]),b=async()=>{if(console.log(r.value),r.value.length>0)try{const s=await j.get("/v1/total/search",{params:{searchBody:r.value},headers:{Authorization:`Bearer ${y}`}});v.value=s.data.content.archiveCarSearchResult,f.value=s.data.content.archiveBeautySearchResult,g.value=s.data.content.driveSearchResult,console.log(s.data.content)}catch(s){console.error("Error fetching search results:",s)}},w=(s,l,e)=>{k.value=s,B.value=l,x.value=e;const d=document.getElementById("newsModal");new bootstrap.Modal(d).show()},S=s=>{const l={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(s).toLocaleDateString(void 0,l)};return C(b),D(()=>p.params.searchBody,s=>{r.value=s,b()}),(s,l)=>(i(),c(h,null,[I(E),t("div",M,[t("div",R,[t("p",H,'"'+o(r.value)+'"에 대한 검색 결과',1),V]),t("div",null,[t("div",$,[F,t("a",{class:"nav-link active mt-1 px-2",onClick:l[0]||(l[0]=(...e)=>s.setTokenCar&&s.setTokenCar(...e)),"aria-current":"page",style:{"font-size":"0.8rem","font-weight":"550"},href:"/archive/total"},[A,_("더 많은 결과 보기 〉")])]),t("div",G,[t("div",q,[(i(!0),c(h,null,m(v.value,e=>(i(),c("div",{key:e.title,class:"col-12 col-sm-6 col-md-4 col-lg-2"},[t("div",J,[t("button",{type:"button",class:"btn news-btn text-start",style:{"font-size":".8rem","font-weight":"bold"},onClick:d=>w(e.title,e.imgUrl,e.newsLink)},[t("img",{src:e.imgUrl,alt:"news image",class:"news-image"},null,8,O),P,t("p",Q,o(e.title),1),W,t("p",X,o(e.uploadDate),1)],8,K)])]))),128))])]),t("div",Y,[Z,t("a",{class:"nav-link active mt-1 px-2",onClick:l[1]||(l[1]=(...e)=>s.setTokenBeauty&&s.setTokenBeauty(...e)),"aria-current":"page",style:{"font-size":"0.8rem","font-weight":"550"},href:"/archive/total"},[N,_("더 많은 결과 보기 〉")])]),t("div",tt,[t("div",et,[(i(!0),c(h,null,m(f.value,e=>(i(),c("div",{key:e.title,class:"col-12 col-sm-6 col-md-4 col-lg-2"},[t("div",st,[t("button",{type:"button",class:"btn news-btn text-start",style:{"font-size":".8rem","font-weight":"bold"},onClick:d=>w(e.title,e.imgUrl,e.newsLink)},[t("img",{src:e.imgUrl,alt:"news image",class:"news-image"},null,8,nt),lt,t("p",at,o(e.title),1),ct,t("p",it,o(e.uploadDate),1)],8,ot)])]))),128))])]),rt,t("div",dt,[t("table",ut,[ht,t("tbody",null,[(i(!0),c(h,null,m(g.value,(e,d)=>(i(),c("tr",{key:e.id},[t("td",null,o(d+1),1),t("td",null,o(e.postTitle),1),t("td",null,[t("a",{href:e.fileUrl,class:"download-link"},[mt,_(o(e.fileName),1)],8,_t)]),t("td",null,o(e.size)+"MB",1),t("td",null,o(e.id),1),t("td",null,o(e.username),1),t("td",null,o(S(e.uploadDate)),1)]))),128))])])])])])],64))}},yt=L(pt,[["__scopeId","data-v-808e27a5"]]);export{yt as default};
